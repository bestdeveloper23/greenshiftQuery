function gspbInfiniteScrollObserver(){if(!document.querySelector(".gspb_aj_pag_auto_wrap"))return;const gcInfiniteObserves=document.querySelectorAll(".gspb_aj_pag_auto_wrap .gspb_ajax_pagination_btn");let infiniteobserver=new IntersectionObserver(entries=>{entries.forEach(entry=>{if(entry.isIntersecting){let item;GSPBajaxpagination(entry.target)}})});gcInfiniteObserves.length>0&&Array.from(gcInfiniteObserves).forEach((function(itemobserve){infiniteobserver.observe(itemobserve)}))}function GSPBajaxpagination(item){let containerid=item.dataset.containerid,activecontainer=document.getElementById(containerid),sorttype=item.dataset.sorttype,offset=item.dataset.offset,perpage=parseInt(activecontainer.dataset.perpage),filterPanel=activecontainer.parentElement.querySelector(".gspb_filter_panel"),tax,choosenTax=null;filterPanel&&(choosenTax=filterPanel.querySelector(".gspb_tax_dropdown .gspb_choosed_tax")),null!=choosenTax&&""!=choosenTax.innerHTML&&(tax=choosenTax.getAttribute("data-taxdata"));let filterargs=activecontainer.dataset.filterargs,innerargs=activecontainer.dataset.innerargs,blockinstance=activecontainer.dataset.blockinstance,template=activecontainer.dataset.template,querycontainer=activecontainer.querySelector(".wp-block-post-template"),data_action="gspb_filterpost",data_sorttype=sorttype,data_filterargs=filterargs,data_template=template,data_tax=tax,data_containerid=containerid,data_offset=offset,data_innerargs=innerargs,data_blockinstance=blockinstance,data_security=gspbpaginationvars.filternonce;const request=new XMLHttpRequest;request.open("POST",gspbpaginationvars.ajax_url,!0),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),request.responseType="json",request.onload=function(){if(this.status>=200&&this.status<400){let responseobj=this.response.data,randomid=Math.floor(1e4*Math.random());if(querycontainer){let resp=responseobj.replace(/gspbgrid_item /g,"gspbgrid_item gspb_grid"+randomid+" ");querycontainer.insertAdjacentHTML("beforeend",resp)}else activecontainer.insertAdjacentHTML("beforeend",responseobj);if(querycontainer&&null!=querycontainer.querySelector(".gspb_ajax_pagination"))if(responseobj.indexOf("gcnomoreclass")>=0)querycontainer.querySelector(".gspb_ajax_pagination").remove(),activecontainer.querySelector(".gspb_ajax_pagination")&&activecontainer.querySelector(".gspb_ajax_pagination").remove();else{null!==activecontainer.querySelector(".gspb_ajax_pagination_outer")&&activecontainer.querySelector(".gspb_ajax_pagination_outer").remove(),querycontainer.appendChild(querycontainer.querySelector(".gspb_ajax_pagination"));let offsetactual=parseInt(activecontainer.querySelector(".gspb_ajax_pagination span").dataset.offset);querycontainer.querySelector(".gspb_ajax_pagination span").dataset.offset=offsetactual+perpage}else if(null!=activecontainer.querySelector(".gspb_ajax_pagination"))if(responseobj.indexOf("gcnomoreclass")>=0)activecontainer.querySelector(".gspb_ajax_pagination").remove();else{activecontainer.appendChild(activecontainer.querySelector(".gspb_ajax_pagination"));let offsetactual=parseInt(activecontainer.querySelector(".gspb_ajax_pagination span").dataset.offset);activecontainer.querySelector(".gspb_ajax_pagination span").dataset.offset=offsetactual+perpage}if(item.closest(".gs-swiper-init")){let swiperold,swiperoldobj;item.closest(".gs-swiper-init").querySelector(".swiper").swiper.destroy();let swiperobj=item.closest(".gs-swiper-init");GSPB_render_Swiper(swiperobj)}if(querycontainer&&item.closest(".gs-gsap-wrap")){let gsapwrap=item.closest(".gs-gsap-wrap");if("batch"==gsapwrap.getAttribute("data-triggertype")&&"undefined"!=typeof gsap){let mobilecheck;gsap.matchMedia().add({isDesktop:"(min-width: 768px)",isMobile:"(max-width: 767px)"},context=>{let anargs=GSGetBasicTween(gsapwrap,context);GSBatchScrollTrigger(gsapwrap,anargs,".gspb_grid"+randomid,"","",context)})}}}},request.onerror=function(){},request.send("action=gspb_filterpost&security="+gspbpaginationvars.filternonce+"&sorttype="+sorttype+"&filterargs="+filterargs+"&template="+template+"&tax="+tax+"&containerid="+containerid+"&offset="+offset+"&innerargs="+innerargs+"&blockinstance="+blockinstance)}gspbInfiniteScrollObserver();