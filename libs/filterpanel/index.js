const gcfiltersortBtns=document.querySelectorAll(".gspb_filtersort_btn");gcfiltersortBtns.forEach(item=>{item.addEventListener("click",(function(ev){if(item.classList.contains("active")){let buttons;ev.target.closest(".gspb_filter_panel").querySelectorAll("ul.gspb_filter_ul span").forEach(item=>{item.classList.toggle("showfiltermobile")})}else{let item=ev.target,containerid=item.dataset.containerid,activecontainer=document.getElementById(containerid),pages=activecontainer.querySelector(".pagination");pages&&(item.classList.contains("resort_0")?pages.style.display="block":pages.style.display="none");let perpage=parseInt(activecontainer.dataset.perpage),sorttype=item.dataset.sorttype,offset=item.dataset.offset,filterPanel=activecontainer.parentElement.querySelector(".gspb_filter_panel"),choosenTax=filterPanel.querySelector(".gspb_tax_dropdown .gspb_choosed_tax"),tax;null!==choosenTax&&""!=choosenTax.innerHTML&&(tax=choosenTax.getAttribute("data-taxdata"));let filterargs=activecontainer.dataset.filterargs,innerargs=activecontainer.dataset.innerargs,template=activecontainer.dataset.template,blockinstance=activecontainer.dataset.blockinstance,querycontainer=activecontainer.querySelector(".wp-block-post-template");item.closest("ul").classList.add("activeul"),item.classList.add("gspb_loadingbefore"),activecontainer.classList.add("sortingloading"),null==activecontainer.querySelector(".gspb_query_preloader")&&activecontainer.insertAdjacentHTML("beforeend",'<div class="gspb_query_preloader"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="60" viewBox="0 0 100 100" fill="#2184f9"><path d="M73,50c0-12.7-10.3-23-23-23S27,37.3,27,50 M30.9,50c0-10.5,8.5-19.1,19.1-19.1S69.1,39.5,69.1,50"><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" from="0 50 50" to="360 50 50" repeatCount="indefinite"></animateTransform></path></svg></div>');const request=new XMLHttpRequest;request.open("POST",gspbfiltervars.ajax_url,!0),request.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),request.responseType="json",request.onload=function(){if(this.status>=200&&this.status<400){let responseobj=this.response.data;if(querycontainer?(querycontainer.innerHTML="",querycontainer.insertAdjacentHTML("beforeend",responseobj)):(activecontainer.innerHTML="",activecontainer.insertAdjacentHTML("beforeend",responseobj)),item.closest(".gspb_filter_panel").querySelectorAll("span").forEach((function(itemfilter){itemfilter.classList.remove("active")})),item.classList.remove("gspb_loadingbefore"),item.classList.add("active"),activecontainer.classList.remove("sortingloading"),item.closest("ul").classList.remove("activeul"),item.closest("ul").classList.contains("gspb_tax_dropdown")){var taxDropdown=item.closest(".gspb_tax_dropdown");taxDropdown.querySelector(".gspb_choosed_tax").innerHTML=item.innerHTML,taxDropdown.querySelector(".gspb_choosed_tax").style.display="block",taxDropdown.querySelector(".gspb_choosed_tax").setAttribute("data-taxdata",item.getAttribute("data-sorttype")),taxDropdown.querySelector(".gspb_tax_placeholder").style.display="none",filterPanel.querySelector(".gspb_filter_ul li:first-child span").classList.add("active"),taxDropdown.classList.remove("active")}if(item.closest(".gs-swiper-init")){let swiperold,swiperoldobj;item.closest(".gs-swiper-init").querySelector(".swiper").swiper.destroy();let swiperobj=item.closest(".gs-swiper-init");GSPB_render_Swiper(swiperobj)}if(activecontainer.classList.contains("gspb_aj_pag_auto_wrap")&&(null!==activecontainer.querySelector(".gspb_ajax_pagination_outer")&&activecontainer.querySelector(".gspb_ajax_pagination_outer").remove(),gspbInfiniteScrollObserver()),querycontainer&&item.closest(".gs-gsap-wrap")){let gsapwrap=item.closest(".gs-gsap-wrap");if("batch"==gsapwrap.getAttribute("data-triggertype")&&"undefined"!=typeof gsap){let mobilecheck;gsap.matchMedia().add({isDesktop:"(min-width: 768px)",isMobile:"(max-width: 767px)"},context=>{let anargs=GSGetBasicTween(gsapwrap,context);GSBatchScrollTrigger(gsapwrap,anargs,querycontainer.querySelectorAll(".gspbgrid_item"),"","",context)})}}}},request.onerror=function(){},request.send("action=gspb_filterpost&security="+gspbfiltervars.filternonce+"&sorttype="+sorttype+"&filterargs="+filterargs+"&template="+template+"&tax="+tax+"&containerid="+containerid+"&offset="+offset+"&innerargs="+innerargs+"&blockinstance="+blockinstance)}}),!1)});const gctaxsortBtns=document.querySelectorAll(".gspb_tax_dropdown .label");gctaxsortBtns.forEach(item=>{item.addEventListener("click",(function(ev){ev.stopPropagation(),ev.preventDefault(),ev.target.closest(".gspb_tax_dropdown").classList.toggle("active")}))});